<div class="container page-content">
  <div class="row">
    <div class="col-3 sidebar-panel d-flex flex-column">
      <app-vault-filter
        #vaultFilter
        [activeFilter]="activeFilter"
        (activeFilterChanged)="applyVaultFilter($event)"
        (onSearchTextChanged)="filterSearchText($event)"
        (onAddFolder)="addFolder()"
        (onEditFolder)="editFolder($event)"
      ></app-vault-filter>

    </div>
    <div [ngClass]="{ 'col-6': isShowingCards, 'col-9': !isShowingCards }">
      <app-vault-header
        [activeFilter]="activeFilter"
        (activeFilterChanged)="applyVaultFilter($event)"
        [actionPromise]="vaultItemsComponent.actionPromise"
        (onAddCipher)="addCipher()"
      ></app-vault-header>
      <app-callout type="warning" *ngIf="activeFilter.isDeleted" icon="fa-exclamation-triangle">
        {{ trashCleanupWarning }}
      </app-callout>
      <app-vault-items
        [activeFilter]="activeFilter"
        (activeFilterChanged)="applyVaultFilter($event)"
        (onCipherClicked)="navigateToCipher($event)"
        (onAttachmentsClicked)="editCipherAttachments($event)"
        (onAddCipher)="addCipher()"
        (onShareClicked)="shareCipher($event)"
        (onEditCipherCollectionsClicked)="editCipherCollections($event)"
        (onCloneClicked)="cloneCipher($event)"
        (onOrganzationBadgeClicked)="applyOrganizationFilter($event)"
      >
      </app-vault-items>
      <app-low-kdf class="d-block mb-4" *ngIf="showLowKdf"> </app-low-kdf>
      <div class="vertical-spacer"></div>
      <app-footer></app-footer>
    </div>
  </div>
</div>

<ng-template #attachments></ng-template>
<ng-template #folderAddEdit></ng-template>
<ng-template #cipherAddEdit></ng-template>
<ng-template #share></ng-template>
<ng-template #collections></ng-template>
<ng-template #updateKeyTemplate></ng-template>
